!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).i18nextShopify=e()}(this,(function(){"use strict";function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function e(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function o(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var a=[].forEach;function c(t,n,o){var i;switch(r(t)){case"string":var a=t.split(n);return 1!==a.length&&"object"===r(o)?(o.key||(o=e(e({},o),{},{key:n.toString()})),[a[0],o,a[1]].flat()):t.replace(n,o);case"object":if(Array.isArray(t))return t.map((function(t){return c(t,n,o)})).flat();if(null!=t&&null!==(i=t.props)&&void 0!==i&&i.children){var u=c(t.props.children,n,o);if(u!==t.props.children)return e(e({},t),{},{props:e(e({},t.props),{},{children:u})})}}return t}var u=/{{?\s*(\w+)\s*}}?/g,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="i18nFormat",this.init(null,e)}var r,o,i;return r=t,o=[{key:"init",value:function(t,e){var r=t&&t.options&&t.options.i18nFormat||{};this.options=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return a.call(r,(function(e){if(e)for(var r in e)void 0===t[r]&&(t[r]=e[r])})),t}(r,e,this.options||{},{}),this.i18next=t}},{key:"parse",value:function(t,e){var r=t.match(u);if(!r)return t;var n=t;return r.forEach((function(t){var r=t.replace(u,"$1"),o="ordinal"===r?e.count||e.ordinal:e[r];void 0!==o&&(n=c(n,t,o))})),n}},{key:"addLookupKeys",value:function(t,r,n,o,i){if(Boolean(void 0!==i.count&&"string"!=typeof i.count||"number"==typeof i.ordinal)){if(!this.i18next.translator.pluralResolver.shouldUseIntlApi())throw new Error("Error: The application was unable to use the Intl API. This may be due to a missing or incomplete polyfill.");var a=Boolean(i.ordinal||0===i.ordinal&&void 0===i.count),c=this.i18next.translator.pluralResolver.getRule(n,e(e({},i),{},{ordinal:a}));if(a){var u=c.select(void 0===i.count?i.ordinal:i.count),l="".concat(this.i18next.options.keySeparator,"ordinal").concat(this.i18next.options.keySeparator).concat(u);t.push(r+l)}else{var p=c.select(i.count);if("other"!==p){var s="".concat(this.i18next.options.keySeparator,"other");t.push(r+s)}var f="".concat(this.i18next.options.keySeparator).concat(p);if(t.push(r+f),0===i.count){var y="".concat(this.i18next.options.keySeparator,"0");t.push(r+y)}else if(1===i.count){var h="".concat(this.i18next.options.keySeparator,"1");t.push(r+h)}}}return t}}],o&&n(r.prototype,o),i&&n(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}();return l.type="i18nFormat",l}));